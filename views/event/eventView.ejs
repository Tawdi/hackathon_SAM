<!-- views/eventView.ejs -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Event Management</title>
</head>
<body>
  <h1>Event Management</h1>

  <% if (typeof success !== 'undefined') { %>
    <div class="alert alert-success"><%= success %></div>
  <% } %>

  <form action="/event" method="POST">
    <input type="hidden" name="id" id="eventId">
    <label for="titre">Title:</label>
    <input type="text" id="titre" name="titre" required>
    <label for="apercu">Preview:</label>
    <textarea id="apercu" name="apercu" required></textarea>
    <label for="description">Description:</label>
    <textarea id="description" name="description" required></textarea>
    <label for="image_url">Image URL:</label>
    <input type="url" id="image_url" name="image_url" required>
    <label for="date_debut">Start Date:</label>
    <input type="date" id="date_debut" name="date_debut" required>
    <label for="date_fin">End Date:</label>
    <input type="date" id="date_fin" name="date_fin" required>
    <label for="time">Time:</label>
    <input type="time" id="time" name="time" required>
    <label for="lieu">Location:</label>
    <input type="text" id="lieu" name="lieu" required>
    <label for="plan">Plan:</label>
    <textarea id="plan" name="plan" required></textarea>
    <label for="observations">Observations:</label>
    <textarea id="observations" name="observations" required></textarea>
    <label for="participation">Participation:</label>
    <textarea id="participation" name="participation" required></textarea>
    <label for="info_add">Additional Info:</label>
    <textarea id="info_add" name="info_add" required></textarea>
    <button type="submit">Save Event</button>
  </form>

  <h2>Events List</h2>
  <% events.forEach(event => { %>
    <div>
      <h3><%= event.titre %></h3>
      <p><%= event.apercu %></p>
      <p><%= event.description %></p>
      <a href="/event/<%= event.id %>">View Details</a>
      <form action="/event/<%= event.id %>?_method=DELETE" method="POST" style="display:inline;">
        <button type="submit">Delete</button>
      </form>
    </div>
  <% }) %>
</body>
</html>
